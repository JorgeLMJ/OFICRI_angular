<div class="container mt-4">
  <!-- Encabezado -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="text-primary">
      <i class="bi bi-person-badge me-2"></i> Gesti√≥n de Empleados
    </h2>

    <div>
      <!-- üöÄ Ahora abre la p√°gina de registro -->
      <button class="btn btn-success me-2" (click)="nuevoEmpleado()">
        <i class="bi bi-person-plus me-2"></i> Nuevo Empleado
      </button>
    </div>
  </div>

  <!-- üîé Buscador -->
  <div class="mb-3">
    <input type="text"
           class="form-control"
           placeholder="Buscar por nombre, apellido o DNI..."
           [(ngModel)]="searchTerm"
           (input)="goToPage(1)">
  </div>

  <!-- üìã Tabla de empleados -->
  <div class="table-responsive shadow-sm rounded">
    <table class="table table-hover align-middle">
      <thead class="table-primary">
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Apellido</th>
          <th>DNI</th>
          <th>Cargo</th>
          <th>Tel√©fono</th>
          <th>Usuario</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let emp of paginatedEmpleados; trackBy: trackById">
          <td>{{ emp.id }}</td>
          <td>{{ emp.nombre }}</td>
          <td>{{ emp.apellido }}</td>
          <td>{{ emp.dni }}</td>
          <td>{{ emp.cargo }}</td>
          <td>{{ emp.telefono }}</td>
          <td>
            <span class="badge bg-info">
              <i class="bi bi-person-circle me-1"></i> {{ emp.usuarioId }}
            </span>
          </td>
          <td>
            <!-- üöÄ editar navega a registro con ID -->
            <button class="btn btn-sm btn-warning me-2" (click)="editarEmpleado(emp.id!)">
              <i class="bi bi-pencil-square"></i>
            </button>
            <button class="btn btn-sm btn-danger" (click)="confirmDelete(emp)">
              <i class="bi bi-trash"></i>
            </button>
          </td>
        </tr>
        <tr *ngIf="filteredEmpleados.length === 0">
          <td colspan="8" class="text-center text-muted">No se encontraron resultados</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- üìÑ Paginaci√≥n -->
  <div class="d-flex justify-content-between align-items-center mt-3">
    <button class="btn btn-outline-primary btn-sm" (click)="prevPage()" [disabled]="currentPage === 1">
      ‚¨Ö Anterior
    </button>

    <span>P√°gina {{ currentPage }} de {{ totalPages }}</span>

    <button class="btn btn-outline-primary btn-sm" (click)="nextPage()" [disabled]="currentPage === totalPages">
      Siguiente ‚û°
    </button>
  </div>
</div>
